import{r as n,W as w,j as s}from"./app-CPYL5oxj.js";import{D as c,S as N}from"./SecondaryButton-BY5qYjaX.js";import{T as y,I as D}from"./TextInput-EvS_eWXL.js";import{I as v}from"./InputLabel-CQjOK9In.js";import{M as C}from"./Modal-DuowRCX7.js";import"./transition-CduYOIU8.js";function k({className:m=""}){const[i,t]=n.useState(!1),a=n.useRef(null),{data:d,setData:p,delete:x,processing:u,reset:o,errors:f,clearErrors:h}=w({password:""}),j=()=>{t(!0)},g=r=>{r.preventDefault(),x(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>e(),onError:()=>{var l;return(l=a.current)==null?void 0:l.focus()},onFinish:()=>o()})},e=()=>{t(!1),h(),o()};return s.jsxs("section",{className:`space-y-6 ${m}`,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"アカウントの削除"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"アカウントを削除すると、そのアカウントのすべてのリソースとデータが完全に削除されます。"})]}),s.jsx(c,{onClick:j,children:"アカウント削除"}),s.jsx(C,{show:i,onClose:e,children:s.jsxs("form",{onSubmit:g,className:"p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"アカウントを削除してよろしいですか？"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["アカウントを削除すると、そのリソースとデータは復旧できません。",s.jsx("br",{}),"アカウント削除のためパスワードを入力してください。"]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(v,{htmlFor:"password",value:"Password",className:"sr-only"}),s.jsx(y,{id:"password",type:"password",name:"password",ref:a,value:d.password,onChange:r=>p("password",r.target.value),className:"mt-1 block w-3/4",isFocused:!0,placeholder:"パスワード"}),s.jsx(D,{message:f.password,className:"mt-2"})]}),s.jsxs("div",{className:"mt-6 flex justify-end",children:[s.jsx(N,{onClick:e,children:"Cancel"}),s.jsx(c,{className:"ms-3",disabled:u,children:"アカウント削除"})]})]})})]})}export{k as default};
