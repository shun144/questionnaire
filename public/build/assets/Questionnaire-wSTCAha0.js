import{r as i,j as e,Y as S}from"./app-MNzaSWed.js";import v from"./NotFinished-D7tXR_3l.js";import w from"./Question-BekfBBX6.js";import E from"./Result-CRKSEJSu.js";import H from"./Header-DISUSIXj.js";import I from"./Footer-ZoSpw13B.js";import{u as r}from"./store-DoepP7cZ.js";import"./index-DmRn-Okf.js";import"./iconBase-C8iXxnql.js";import"./react-9o_-8awh.js";import"./index-CYwCsC2B.js";/* empty css                */import"./ResultBg-CV3tL4Bu.js";const J=({ownerName:u,title:m,questions:c,results:p,edges:l,firstQuestionId:a})=>{const f=r(t=>t.setQuestionnarieDatas),g=r(t=>t.setCurrentQuestionnarie),o=r(t=>t.currentQuestionnarie),j=r(t=>t.setFirstQuestionId),[x,Q]=i.useState(!0);return i.useEffect(()=>{const t=JSON.parse(c),h=JSON.parse(p),F=JSON.parse(l),N=t.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(n=>{var d;return{id:n.id,content:n.content,salesPoints:[],nextId:(d=F.find(R=>R.sourceHandle===n.id))==null?void 0:d.targetHandle}}),category:"question"})),y=h.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));f([...N,...y]),j(a),g(a),Q(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"診断"}),e.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col md:overflow-x-hidden",children:[e.jsx(H,{title:m}),e.jsx("div",{className:" bg-slate-100 grow basis-1/2 overflow-hidden ",children:!x&&e.jsxs(e.Fragment,{children:[o.category==="question"&&e.jsx(w,{}),o.category==="result"&&e.jsx(E,{}),o.category==="none"&&e.jsx(v,{})]})}),e.jsx(I,{ownerName:u})]})]})},G=i.memo(J);export{G as default};
