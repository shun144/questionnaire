import{r as c,W as w,j as s,Y as b}from"./app-BQAl0iGL.js";import{G as v}from"./GuestLayout-Ba7iG4M1.js";import{T as l,I as o}from"./TextInput-4TZb_qHu.js";import{I as m}from"./InputLabel-aPXuP3jf.js";import{P as g}from"./PrimaryButton-BcTaOM_4.js";import k from"./TermsModal-Dx1ngPKK.js";import"./ApplicationLogo-BfYpShb9.js";import"./Modal-Dp7g2Mk1.js";import"./transition-C1GdvH3R.js";function P({token:d}){const[i,N]=c.useState(!0),[p,n]=c.useState(!1),{data:a,setData:t,post:u,processing:x,errors:r,reset:h}=w({token:d,email:"",password:"",password_confirmation:"",terms_check:!0}),f=e=>{e.preventDefault(),u(route("first.login.store"),{onFinish:()=>h("password","password_confirmation")})},j=e=>{e.preventDefault(),n(!0)};return s.jsxs(v,{children:[s.jsx(b,{title:"初回パスワードリセット"}),s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{children:[s.jsx(m,{htmlFor:"email",value:"メールアドレス"}),s.jsx(l,{id:"email",type:"email",name:"email",value:a.email,className:"mt-1 block w-full",autoComplete:"username",onChange:e=>t("email",e.target.value)}),s.jsx(o,{message:r.email,className:"mt-2"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(m,{htmlFor:"password",value:"パスワード"}),s.jsx(l,{id:"password",type:"password",name:"password",value:a.password,className:"mt-1 block w-full",autoComplete:"new-password",isFocused:!0,onChange:e=>t("password",e.target.value)}),s.jsx(o,{message:r.password,className:"mt-2"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(m,{htmlFor:"password_confirmation",value:"パスワード（確認用）"}),s.jsx(l,{type:"password",name:"password_confirmation",value:a.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:e=>t("password_confirmation",e.target.value)}),s.jsx(o,{message:r.password_confirmation,className:"mt-2"})]}),s.jsx("div",{className:"mt-8",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:" flex justify-start items-center gap-x-2",children:[s.jsx("input",{type:"checkbox",name:"term_checkbox",className:`${i?"bg-gray-300":""} outline-none border-none`,checked:a.terms_check,disabled:i,onChange:e=>t("terms_check",!a.terms_check)}),s.jsx(m,{htmlFor:"term_checkbox",children:s.jsx("button",{className:"text-base text-blue-500 transaction-all duration-200 hover:text-blue-700",onClick:j,children:"利用規約を見る"})})]}),s.jsx(o,{message:r.terms_check,className:"mt-2"})]})}),s.jsx("div",{className:"flex items-center justify-end mt-4",children:s.jsx(g,{className:"ms-4",disabled:x,children:"初回ログイン"})})]}),s.jsx(k,{isOpen:p,setIsOpen:n})]})}export{P as default};
