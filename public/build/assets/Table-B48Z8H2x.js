import{r as o,j as e}from"./app-BQAl0iGL.js";import{n as g}from"./index-BiipNi2k.js";import{u as N,D as v,f as m,c as w,g as y,a as S,b as C,d as R}from"./index-Cb2zDa3g.js";import{I as M}from"./index-DiKGKoOW.js";import"./iconBase-DktyMWrP.js";const u=w(),E=({initialLogs:x,success:r,fail:a})=>{var c;const[p,h]=o.useState([]),[i,b]=o.useState("");o.useEffect(()=>{r&&g.success(r,{duration:4e3})},[r]),o.useEffect(()=>{a&&g.error(a,{duration:4e3})},[a]);const f=(l,t,j)=>{l.preventDefault();const n=document.createElement("a");n.href=j,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},d=o.useMemo(()=>[u.accessor("name",{header:"ファイル名"}),u.display({id:"Action",header:"Action",size:65,cell:({row:l})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:"font-medium text-blue-600 hover:bg-blue-500 hover:text-white mx-1 transiton-all duration-150 p-1 rounded",onClick:t=>f(t,l.original.name,l.original.url),children:"ダウンロード"})})})],[]),s=N({data:x,columns:d,getCoreRowModel:y(),onSortingChange:h,getSortedRowModel:S(),getFilteredRowModel:C(),getPaginationRowModel:R(),state:{sorting:p,globalFilter:i},defaultColumn:{size:200}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"max-w-full w-5/12 mx-auto sm:px-6 lg:py-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm",children:e.jsxs("div",{className:"pb-3 px-6",children:[e.jsxs("div",{className:"flex justify-start items-center h-24",children:[e.jsx("div",{className:"h-12 bg-slate-600 px-2 rounded-l",children:e.jsx(M,{className:"h-full block text-white"})}),e.jsx("div",{className:"h-full flex justify-center items-center",children:e.jsx(v,{value:i??"",handleChange:l=>b(String(l)),className:"w-96 h-12 bg-transparent outline-none border rounded-r border-slate-300 focus:ring-0 focus:border-blue-500 placeholder:text-slate-400",placeholder:"検索"})})]}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-sm text-gray-700 bg-gray-200 ",children:s.getHeaderGroups().map(l=>e.jsx("tr",{children:l.headers.map(t=>e.jsx("th",{colSpan:t.colSpan,style:{maxWidth:t.getSize()},children:t.isPlaceholder?null:e.jsxs("div",{className:`
                                px-3 py-3
                                ${t.column.getCanSort()?"cursor-pointer select-none":""}`,onClick:t.column.getToggleSortingHandler(),title:t.column.getCanSort()?t.column.getNextSortingOrder()==="asc"?"Sort ascending":t.column.getNextSortingOrder()==="desc"?"Sort descending":"Clear sort":void 0,children:[m(t.column.columnDef.header,t.getContext()),{asc:"↑",desc:"↓"}[t.column.getIsSorted()]??null]})},t.id))},l.id))}),e.jsx("tbody",{children:(c=s.getRowModel().rows)!=null&&c.length?s.getRowModel().rows.map(l=>e.jsx(o.Fragment,{children:e.jsx("tr",{"data-state":l.getIsSelected()&&"selected",className:"bg-white border-b",children:l.getVisibleCells().map(t=>e.jsx("td",{className:"px-2 py-2",style:{maxWidth:t.column.getSize(),overflow:"hidden",overflowWrap:"break-word"},children:m(t.column.columnDef.cell,t.getContext())},t.id))},l.id)},l.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:d.length,className:"h-24 text-center",children:"対象レコード0件"})})})]}),e.jsxs("div",{className:"flex items-center justify-center mt-4 gap-8",children:[e.jsxs("div",{className:"w-12 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),className:"p-1 border border-gray-300 px-2 disabled:opacity-30 select-none cursor-pointer",children:"<"}),e.jsx("button",{onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),className:"p-1 border border-gray-300 px-2 disabled:opacity-30 select-none cursor-pointer",children:">"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-gray-500",children:`${s.getState().pagination.pageIndex+1} / ${s.getPageCount()}`})}),e.jsx("select",{value:s.getState().pagination.pageSize,onChange:l=>s.setPageSize(Number(l.currentTarget.value)),className:"py-2 pr-8 bg-transparent cursor-pointer select-none border-1 border-slate-200 focus:ring-0 focus:border-blue-500 text-sm",children:[10,20,30,50].map(l=>e.jsx("option",{value:l,children:`${l} 行表示`},l))})]})]})})})})};export{E as default};
